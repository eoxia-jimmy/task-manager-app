<div *ngIf="authDataService.connected" class="menu">
	<ul>
		<li *ngFor="let app of apps" (click)="connect()"><span>{{app.name}}</span></li>
		<li *ngIf="!apps"><span>No apps</span></li>
		<li data-toggle="modal" data-target="#addAppModal">Add</li>
	</ul>

	<div id="addAppModal" class="modal" tabindex="-1" role="dialog">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Add App Modal</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<form #appForm="ngForm">
						<div class="form-group">
							<label for="id">ID</label>
							<input type="text" class="form-control" id="id"
								[(ngModel)]="model.id"
								name="id"
								readonly />
						</div>
						<div class="form-group">
							<label for="name">Name</label>
							<input type="text" class="form-control" id="name"
								placeholder="Enter name"
								required
								[(ngModel)]="model.name"
								name="name" />
						</div>
						<div class="form-group">
							<label for="url">URL</label>
							<input type="text" class="form-control" id="url"
								aria-describedby="urlHelp"
								placeholder="Enter URL"
								required
								[(ngModel)]="model.url"
								name="url" />
							<small id="urlHelp" class="form-text text-muted">Enter your WordPress URL with http(s) protocol.</small>
						</div>
						<div class="form-group">
							<label for="key">Customer Key</label>
							<input type="text" class="form-control" id="key"
								aria-describedby="keyHelp"
								placeholder="Enter Customer Key"
								required
								[(ngModel)]="model.customerKey"
								name="customerKey" />
							<small id="keyHelp" class="form-text text-muted">Enter your WordPress Customer Key.</small>
						</div>
						<div class="form-group">
							<label for="secret">Customer Secret</label>
							<input type="text" class="form-control" id="secret"
								aria-describedby="urlHelp"
								placeholder="Enter Customer Secret"
								required
								[(ngModel)]="model.customerSecret"
								name="customerSecret" />
							<small id="secretHelp" class="form-text text-muted">Enter your WordPress Customer Secret.</small>
						</div>
						<button type="button" class="btn btn-primary" (click)="add(model);">New App</button>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
</div>
